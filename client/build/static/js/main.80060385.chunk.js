(this["webpackJsonpmoney-saver"]=this["webpackJsonpmoney-saver"]||[]).push([[0],{133:function(e,t,a){},167:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(12),o=a.n(s),c=a(7),i=(a(133),a(44)),l=a(17),d=a(206),u=a(215),m=a(216),j=a(217),b=a(173),x=a(212),p=a(213),h=a(116),g=Object(h.a)({palette:{primary:{main:"#fab73d",textShadow:"2px 2px 5px rgb(0,0,0,0.3)"},secondary:{main:"#546747"}}}),O=a(105),f=a.n(O),y=a(106),v=a.n(y),w=a(107),N=a.n(w),C=a(13),S=a.n(C),k=a(21),D=a(98),B=a(8),M=Object(d.a)((function(e){return{login:{margin:"50px"},title:Object(B.a)({textShadow:"1px 1px 2px rgba(0,0,0,0.5)",margin:"3rem",textAlign:"center"},e.breakpoints.down("xs"),{margin:"0"}),form:{display:"flex",flexDirection:"column"},field:{margin:"0.3rem 0"},button:{margin:"3rem 0"}}})),T=a(14),I=a.n(T),E="https://moneysaver.orloffvladimir.com/api/",F=a(1),L=Object(n.createContext)();function G(e){var t=e.children,a=Object(n.useState)("english"),r=Object(c.a)(a,2),s=r[0],o=r[1];return Object(F.jsx)(L.Provider,{value:{language:s,setLanguage:o},children:t})}var A={english:{Welcome:{title:"moneysaver",subtitle:"A place to manage, register and share your expenses.",createAccountButton:"Create an account",signinSuccessMessage:"Account successfully created. Please login",welcomeMessage:{part1:"Welcome, ",part2:" and ",part3:"."},loginButton:"Login",todayTile:"Today",expensesTile:"Expenses",addExpenseLabel:"Add an expense",example:{line1:"You can see the app functionality by loging-in with this account: ",line2:"account name: 123, password: 123"}},Login:{title:"Login",username:"Username",password:"Password",submitButton:"Submit"},Signup:{title:"Signup",username:"Username",password:"Password",oneAccountForTwoPersons:"One account for two persons",totalMoney:"Total Money",nameLabel1:"Set a name",nameLabel2:"Set another name",submitButton:"Submit"},Navbar:{title:"moneysaver",loginButton:"Login",signinButton:"Signup",logoutButton:"Logout",welcomeButton:"Homepage",todayButton:"Today",expensesButton:"Expenses",settingsCloseButton:"Close"},Today:{title:"Today",totalMoney:{title:"Total Money",text:{part1:"Your shared total money is ",part2:"."}},expenses:{title:"Expenses",text:{line1_2:{part1:" has spent ",part2:" this month.",part3:" has not spent anything."},line3:{part1:"Total: "},noExpense:"No expense added yet."}},balance:{title:"Balance",modifyBalanceButton:"Modify balance",closeButton:"Close"},goal:{title:"Goal",text:{line1:{part1:"'s goal is ",part2:".",part3:"'s goal is not defined yet."},line2:{part1:"You can spend ",part2:" left."}},defineGoalButton:"Define a goal"}},Expenses:{title:"Expenses",noExpense:"none"},Settings:{title:"Settings",totalMoney:{text:"Total money: ",button:"Modify total money",dialog:{title:"Change total money",label:"Total money",submitButton:"Submit",cancelButton:"Cancel"}},goal:{text:{defined:"'s goal is ",notDefined:"'s goal is not defined yet."},button:"Modify month goal",dialog:{title:"Change month goal",label:"Goal",submitButton:"Submit",cancelButton:"Cancel"}},names:{text:{part1:"Current names: ",part2:" and "},button:"Modify names",dialog:{title:"Change names",label1:"Name",label2:"Name",submitButton:"Submit",cancelButton:"Cancel"}}},NewExpense:{title:"New Expense",name:"Name",whoPurchasedIt:"Who purchased it",amount:"Amount",button:"Add"},Donut:{title:"Expenses - ",total:"total "},ModifyBalance:{title:{part1:"Modify ",part2:"'s balance"},button:"Submit"},LastExpenses:{title:"Last expenses"}},japanese:{Welcome:{title:"moneysaver",subtitle:"\uff12\u4eba\u306e\u304a\u91d1\u3092\u7ba1\u7406\u3059\u308b",createAccountButton:"\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210",signinSuccessMessage:"\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u3002\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u4e0b\u3055\u3044\u3002",welcomeMessage:{part1:"\u3088\u3046\u3053\u305d\uff01",part2:" \u3068 ",part3:""},loginButton:"\u30ed\u30b0\u30a4\u30f3",todayTile:"\u4eca\u65e5\u306e\u30ec\u30dd\u30fc\u30c8",expensesTile:"\u652f\u51fa",addExpenseLabel:"\u652f\u51fa\u3092\u8ffd\u52a0",example:{line1:"\u30a2\u30d7\u30ea\u3092\u898b\u3066\u307f\u305f\u3044\u65b9\u306f\u4e0b\u8a18\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\uff1a",line2:"\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\uff1a123, \u30d1\u30b9\u30ef\u30fc\u30c9\uff1a123"}},Login:{title:"\u30ed\u30b0\u30a4\u30f3",username:"\u30e6\u30fc\u30b6\u30fc\u30cd\u30fc\u30e0",password:"\u30d1\u30b9\u30ef\u30fc\u30c9",submitButton:"\u9001\u4fe1"},Signup:{title:"\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210",username:"\u30e6\u30fc\u30b6\u30fc\u30cd\u30fc\u30e0",password:"\u30d1\u30b9\u30ef\u30fc\u30c9",oneAccountForTwoPersons:"\u203b2\u4eba\u3067\u4f7f\u3046\u30a2\u30ab\u30a6\u30f3\u30c8",totalMoney:"\uff12\u4eba\u306e\u4f7f\u3048\u308b\u304a\u91d1",nameLabel1:"\uff11\u4eba\u76ee\u306e\u540d\u524d",nameLabel2:"\uff12\u4eba\u76ee\u306e\u540d\u524d",submitButton:"\u9001\u4fe1"},Navbar:{title:"moneysaver",loginButton:"\u30ed\u30b0\u30a4\u30f3",signinButton:"\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210",logoutButton:"\u30ed\u30b0\u30a2\u30a6\u30c8",welcomeButton:"\u30db\u30fc\u30e0\u30da\u30fc\u30b8",todayButton:"Today",expensesButton:"\u652f\u51fa\u5165\u529b",settingsCloseButton:"\u9589\u3058\u308b"},Today:{title:"\u4eca\u65e5\u306e\u30ec\u30dd\u30fc\u30c8",totalMoney:{title:"\uff12\u4eba\u306e\u304a\u91d1",text:{part1:"\uff12\u4eba\u306e\u4f7f\u3048\u308b\u304a\u91d1\u306f",part2:"\u3002"}},expenses:{title:"\u652f\u51fa",text:{line1_2:{part1:"\u306f\u4eca\u6708\u3001",part2:"\u4f7f\u3063\u305f\u3002",part3:"\u306f\u304a\u91d1\u3092\u4f7f\u3063\u3066\u3044\u306a\u3044\u3002"},line3:{part1:"\u5408\u8a08\uff1a"},noExpense:"\u652f\u51fa\u304c\u307e\u3060\u8ffd\u52a0\u3055\u308c\u3066\u3044\u306a\u3044\u3002"}},balance:{title:"\u5dee\u5206",modifyBalanceButton:"\u5dee\u5206\u3092\u5909\u66f4",closeButton:"\u9589\u3058\u308b"},goal:{title:"\u4eca\u6708\u306e\u76ee\u6a19",text:{line1:{part1:"\u6708\u306e\u76ee\u6a19\u306f",part2:"\u3002",part3:"\u6708\u306e\u76ee\u6a19\u306f\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u3002"},line2:{part1:"\u3042\u3068",part2:"\u4f7f\u3048\u308b\u3002"}},defineGoalButton:"\u76ee\u6a19\u3092\u8a2d\u5b9a"},lastExpenses:{title:"\u6700\u65b0\u306e\u652f\u51fa"}},Expenses:{title:"\u652f\u51fa",noExpense:"\u7121\u3057"},Settings:{title:"\u8a2d\u5b9a",totalMoney:{text:"\uff12\u4eba\u306e\u4f7f\u3048\u308b\u304a\u91d1\u306f",button:"\u5909\u66f4",dialog:{title:"\u5408\u8a08\u3092\u5909\u66f4",label:"\u5408\u8a08",submitButton:"\u78ba\u5b9a",cancelButton:"\u3084\u3081\u308b"}},goal:{text:{defined:"\u6708\u306e\u76ee\u6a19\u306f",notDefined:"\u6708\u306e\u76ee\u6a19\u306f\u307e\u3060\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044"},button:"\u5909\u66f4",dialog:{title:"\u76ee\u6a19\u3092\u5909\u66f4",label:"\u4eca\u6708\u306e\u76ee\u6a19",submitButton:"\u78ba\u5b9a",cancelButton:"\u3084\u3081\u308b"}},names:{text:{part1:"\u8a2d\u5b9a\u3055\u308c\u305f\u540d\u524d\u306f",part2:"\u3068"},button:"\u5909\u66f4",dialog:{title:"\u540d\u524d\u3092\u5909\u66f4",label1:"1\u4eba\u76ee",label2:"\uff12\u4eba\u76ee",submitButton:"\u78ba\u5b9a",cancelButton:"\u3084\u3081\u308b"}},closeButton:"\u9589\u3058\u308b"},NewExpense:{title:"\u652f\u51fa\u3092\u8ffd\u52a0\u3059\u308b",name:"\u5546\u54c1\u540d",whoPurchasedIt:"\u8cfc\u5165\u8005",amount:"\u6599\u91d1",button:"\u8ffd\u52a0"},Donut:{title:"\u652f\u51fa",total:"\u30fb\u5408\u8a08"},ModifyBalance:{title:{part1:"",part2:"\u306e\u5dee\u5206\u3092\u5909\u66f4"},button:"\u78ba\u5b9a"},LastExpenses:{title:"\u6700\u65b0\u306e\u652f\u51fa"}}},R=M;var W=function(e){var t=e.setLoginOpen,a=R(),r=Object(n.useContext)(L).language,s=Object(n.useState)(""),o=Object(c.a)(s,2),i=o[0],l=o[1],d=Object(n.useState)(""),u=Object(c.a)(d,2),m=u[0],j=u[1],p=Object(n.useState)(!1),h=Object(c.a)(p,2),g=h[0],O=h[1],f=A[r].Login,y=function(){var e=Object(k.a)(S.a.mark((function e(a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,I.a.post(E+"user/login",{username:i,password:m});case 4:200===(n=e.sent).status?(void 0!==t&&t(!1),localStorage.setItem("token",n.data.token),window.location.reload(!1)):O(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),O(!0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),v=Object(F.jsx)("p",{style:{color:"red"},children:"Incorrect username or password"});return Object(F.jsxs)("div",{className:a.login,children:[Object(F.jsx)(b.a,{className:a.title,variant:"h3",children:f.title}),g&&v,Object(F.jsxs)("form",{className:a.form,onSubmit:y,children:[Object(F.jsx)(D.a,{className:a.field,required:!0,value:i,name:"username",label:f.username,color:"secondary",onChange:function(e){l(e.target.value)}}),Object(F.jsx)(D.a,{className:a.field,required:!0,value:m,name:"password",label:f.password,color:"secondary",type:"password",onChange:function(e){j(e.target.value)}}),Object(F.jsx)(x.a,{className:a.button,variant:"contained",color:"primary",type:"submit",children:f.submitButton})]})]})},P=Object(d.a)((function(e){return{signin:Object(B.a)({margin:"50px"},e.breakpoints.down("xs"),{margin:"30px"}),title:Object(B.a)({textShadow:"1px 1px 2px rgba(0,0,0,0.5)",margin:"3rem",textAlign:"center"},e.breakpoints.down("xs"),{margin:"0"}),form:{display:"flex",flexDirection:"column"},field:{margin:"0.3rem 0"},button:{margin:"3rem 0"}}}));var V=function(e){var t=e.setSigninSuccess,a=e.setSigninOpen,r=P(),s=Object(n.useState)(""),o=Object(c.a)(s,2),i=o[0],l=o[1],d=Object(n.useState)(""),u=Object(c.a)(d,2),m=u[0],j=u[1],h=Object(n.useState)(""),g=Object(c.a)(h,2),O=g[0],f=g[1],y=Object(n.useState)(""),v=Object(c.a)(y,2),w=v[0],N=v[1],C=Object(n.useState)(""),B=Object(c.a)(C,2),M=B[0],T=B[1],G=Object(n.useContext)(L).language,R=A[G].Signup,W=function(){var e=Object(k.a)(S.a.mark((function e(n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,I.a.post(E+"user/register",{username:i,password:m,names:[{name:w},{name:M}]});case 3:return e.next=5,I.a.post(E+"totalMoney",{amount:O,user:i});case 5:l(""),j(""),f(""),N(""),T(""),a(!1),t(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:r.signin,children:[Object(F.jsx)(b.a,{className:r.title,variant:"h3",children:R.title}),Object(F.jsxs)("form",{className:r.form,onSubmit:W,children:[Object(F.jsx)(D.a,{className:r.field,required:!0,value:i,name:"username",label:R.username,color:"secondary",onChange:function(e){l(e.target.value)}}),Object(F.jsx)(D.a,{className:r.field,required:!0,value:m,name:"password",label:R.password,color:"secondary",type:"password",onChange:function(e){j(e.target.value)}}),Object(F.jsx)(p.a,{style:{marginTop:"2rem"}}),Object(F.jsx)(p.a,{}),Object(F.jsx)(p.a,{}),Object(F.jsx)(p.a,{}),Object(F.jsx)(p.a,{}),Object(F.jsx)(b.a,{children:R.oneAccountForTwoPersons}),Object(F.jsx)(D.a,{className:r.field,value:w,name:"name1",label:R.nameLabel1,color:"secondary",onChange:function(e){N(e.target.value)}}),Object(F.jsx)(D.a,{className:r.field,value:M,name:"name2",label:R.nameLabel2,color:"secondary",onChange:function(e){T(e.target.value)}}),Object(F.jsx)(D.a,{className:r.field,required:!0,value:O,name:"totalMoney",label:R.totalMoney,color:"secondary",onChange:function(e){f(e.target.value)}}),Object(F.jsx)(x.a,{className:r.button,variant:"contained",color:"primary",type:"submit",children:R.submitButton})]})]})},_=a(224),Y=a(117),q=a(225),z=a(104),U=a.n(z),J=a(23),H=a(214),X=Object(d.a)((function(e){return{settings:{width:"100%"},title:{textAlign:"center",margin:"1rem"},card:{width:"30%"},cardContent:{display:"flex",flexDirection:"column",alignItems:"center"},forms:{display:"flex",flexDirection:"column"},form:{display:"flex",flexDirection:"column",alignItems:"center",margin:"1rem"},formTitle:{fontSize:"1.2rem",alignSelf:"start"},modifyButton:{marginTop:"1rem"},dialog:{},dialogContent:{margin:"30px 20px"},dialogButton:{margin:"20px 10px"}}})),K=a(41);function Q(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var Z=function(e,t){return function(t){var a,n,r,s,o,c=t.data;try{a=c.totalMoney[0].amount}catch(u){a=null}try{n=c.monthGoal.filter((function(e){return e.date.month===c.currentDate.month}))[0].goal}catch(m){n=null}try{r=c.expenses.filter((function(e){return e.user.username===c.user&&e.date.month===c.currentDate.month&&e.date.year===c.currentDate.year})).map((function(e){return e.amount})).reduce((function(e,t){return parseInt(e)+parseInt(t)}))}catch(j){r=null}try{s=c.expenses.filter((function(e){return e.purchaser.name===c.names[0].name&&e.date.month===c.currentDate.month&&e.date.year===c.currentDate.year})).map((function(e){return e.amount})).reduce((function(e,t){return parseInt(e)+parseInt(t)}))}catch(b){s=null}try{o=c.expenses.filter((function(e){return e.purchaser.name===c.names[1].name&&e.date.month===c.currentDate.month&&e.date.year===c.currentDate.year})).map((function(e){return e.amount})).reduce((function(e,t){return parseInt(e)+parseInt(t)}))}catch(x){o=null}var i=n-r,l=parseInt(a)+parseInt(i),d={thisUserTotalMoney:null!==a?Q(a):null,endOfMonth:Q(l),thisUserMonthGoal:null!==n?Q(n):null,limit:Q(i),totalExpensesAmount:null!==r?Q(r):null,expensesFromName1:null!==s?Q(s):null,expensesFromName2:null!==o?Q(o):null};return Object(F.jsx)(e,Object(K.a)(Object(K.a)({},t),{},{stats:d}))}},$=a(118);a(167);var ee=function(){return Object(F.jsx)("div",{className:"loader-wrapper",children:Object(F.jsx)("div",{className:"loader",children:"Loading..."})})},te=a(70);function ae(e,t){return function(t){var a=new Date,r=Object(n.useState)({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()}),s=Object(c.a)(r,1)[0],o=Object(n.useState)(JSON.parse(localStorage.getItem("data"))),i=Object(c.a)(o,2),l=i[0],d=i[1],u=Object(n.useState)(!0),m=Object(c.a)(u,2),j=m[0],b=m[1],x=localStorage.getItem("token"),p=function(){b(!0),I.a.all([I.a.get(E+"user",{headers:{"x-auth-token":x}}),I.a.get(E+"totalMoney"),I.a.get(E+"goal"),I.a.get(E+"expenses")]).then(I.a.spread((function(e,t,a,n){d({totalMoney:t.data.filter((function(t){return t.user===e.data.username})),monthGoal:a.data.filter((function(t){return t.user===e.data.username})),expenses:n.data.filter((function(t){return t.user.username===e.data.username})),user:e.data.username,names:Object($.a)(e.data.names),token:x,currentDate:s}),window.localStorage.setItem("data",JSON.stringify(l))}))).then((function(){b(!1)})).catch((function(e){console.log(e),b(!1)}))};for(Object(n.useEffect)((function(){x?Object(te.a)(x).exp<Date.now()/1e3?localStorage.removeItem("token"):p():b(!1)}),[]);!0===j;)return Object(F.jsx)(ee,{});return Object(F.jsx)(e,Object(K.a)(Object(K.a)({},t),{},{fetchData:p,data:l,setData:d,isFetching:j,setIsFetching:b}))}}var ne=function(e,t){return function(t){var a=Object(l.f)(),r=localStorage.getItem("token");return Object(n.useEffect)((function(){null!==r&&(Object(te.a)(r).exp<Date.now()/1e3&&(localStorage.removeItem("token"),t.setData({token:null,user:null,currentData:null,totalMoney:[],monthGoal:[],expenses:[]}),a.push("/")))})),null!==r?Object(F.jsx)(e,Object(K.a)({},t)):null}},re=["January","February","March","April","May","June","July","August","September","October","November","December"],se=function(e,t,a,n){return"english"===n?(1===e[e.length-1]?e+"st":2===e[e.length-1]?e+"nd":3===e[e.length-1]?e+"rd":e+"th")+" "+re[t-1]+" "+a:"japanese"===n?a+"\u5e74"+t+"\u6708"+e+"\u65e5":void 0},oe=a(228),ce=a(209),ie=Object(d.a)((function(e){return{root:Object(B.a)({width:"300px",height:"500px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"50px"},e.breakpoints.down("xs"),{width:"300px",padding:"0"})}}));var le=ae((function(e){var t=e.data,a=Object(n.useContext)(L).language,r=ie(),s=Object(n.useState)(t.names[0].balance),o=Object(c.a)(s,2),i=o[0],l=o[1],d=A[a].ModifyBalance,u=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request to "+E+"user/balance"),e.next=3,I.a.put(E+"user/balance",{username:t.user,newBalance:i});case 3:window.location.reload(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:r.root,children:[Object(F.jsx)(b.a,{variant:"h5",style:{margin:"2rem"},children:"".concat(d.title.part1).concat(t.names[0].name).concat(d.title.part2)}),window.innerWidth<400?"":Object(F.jsx)(oe.a,{value:"number"===typeof i?i:0,valueLabelDisplay:"".concat(t.names[0].name,"'s balance"),onChange:function(e,t){l(t)},marks:[{value:-15e3,label:"\xa5-15000"},{value:-7e3,label:"\xa5-7000"},{value:0,label:"\xa50"},{value:7e3,label:"\xa57000"},{value:15e3,label:"\xa515000"}],min:-2e4,max:2e4}),Object(F.jsx)(ce.a,{value:i,onChange:function(e){e.target.value!==e.target.value?l(0):l(e.target.value)},style:{margin:"1rem"}}),Object(F.jsx)(b.a,{style:{margin:"2rem 0 1rem 0"},variant:"h6",children:"".concat(t.names[1].name,": \xa5").concat(-i)}),Object(F.jsx)(x.a,{variant:"contained",color:"primary",onClick:u,style:{margin:"0.5rem"},children:d.button})]})})),de=Object(d.a)((function(e){return{form:{display:"flex",flexDirection:"column",alignItems:"center",margin:"1rem"},dialogContent:{margin:"30px 20px"},dialogButton:{margin:"20px 10px"}}}));var ue=function(e){var t=e.handleGoalChange,a=e.currentGoal,n=e.Settings,r=e.handleCurrentGoalChange,s=e.handleClose,o=de();return Object(F.jsxs)(J.ValidatorForm,{className:"".concat(o.form," ").concat(o.dialogContent),onSubmit:t,children:[Object(F.jsx)(H.a,{children:n.goal.dialog.title}),Object(F.jsx)(J.TextValidator,{label:n.goal.dialog.label,value:a,onChange:r,validators:["isANumber"],errorMessages:["Must be a number!"]}),Object(F.jsx)(x.a,{variant:"contained",color:"primary",type:"submit",className:o.dialogButton,children:n.goal.dialog.submitButton}),Object(F.jsx)(x.a,{onClick:s,variant:"contained",color:"secondary",className:o.dialogButton,children:n.goal.dialog.cancelButton})]})},me=X;var je=ne(ae(Z((function(e){var t=e.stats,a=e.data,r=e.setData,s=me(),o=Object(n.useContext)(L).language,i=Object(n.useState)(""),l=Object(c.a)(i,2),d=l[0],u=l[1],m=Object(n.useState)(""),j=Object(c.a)(m,2),h=j[0],g=j[1],O=Object(n.useState)(a.names?a.names[0].name:""),f=Object(c.a)(O,2),y=f[0],v=f[1],w=Object(n.useState)(a.names?a.names[1].name:""),N=Object(c.a)(w,2),C=N[0],D=N[1],B=Object(n.useState)(!1),M=Object(c.a)(B,2),T=M[0],G=M[1],R=Object(n.useState)(!1),W=Object(c.a)(R,2),P=W[0],V=W[1],Y=Object(n.useState)(!1),q=Object(c.a)(Y,2),z=q[0],U=q[1],X=A[o].Settings,K=t.thisUserTotalMoney,Q=t.thisUserMonthGoal,Z=function(){U(!0)},$=function(){G(!1),U(!1),V(!1),u(""),g(""),v(a.names[0].name),D(a.names[1].name)},ee=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post(E+"totalMoney",{shared:{isShared:!1,users:[]},amount:d,user:a.user});case 2:r({totalMoney:{shared:{isShared:!1,users:[]},amount:d,user:a.user},monthGoal:a.monthGoal,expenses:a.expenses,user:a.user,names:a.names,token:a.token,currentDate:a.currentDate}),window.location.reload(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post(E+"goal",{goal:h,date:{year:a.currentDate.year,month:a.currentDate.month},user:a.user});case 2:r({totalMoney:a.totalMoney,monthGoal:{goal:h,date:{year:a.currentDate.year,month:a.currentDate.month},user:a.user},expenses:a.expenses,user:a.user,names:a.names,token:a.token,currentDate:a.currentDate}),window.location.reload(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.put(E+"user",{username:a.user,oldname1:a.names[0].name,oldname2:a.names[1].name,name1:y,name2:C});case 2:t=e.sent,console.log(t.data),r({totalMoney:a.totalMoney,monthGoal:a.monthGoal,expenses:a.expenses,user:a.user,names:[{name1:y,balance:a.names[0].balance},{name2:C,balance:a.names[1].balance}],token:a.token,currentDate:a.currentDate}),window.location.reload(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){J.ValidatorForm.addValidationRule("isANumber",(function(e){return!isNaN(e)}))})),Object(F.jsxs)("div",{className:s.settings,children:[Object(F.jsx)(b.a,{variant:"h4",className:s.title,children:X.title}),Object(F.jsx)(p.a,{}),Object(F.jsxs)("div",{className:s.forms,children:[Object(F.jsxs)("div",{className:s.form,children:[Object(F.jsx)(b.a,{className:s.formTitle,variant:"h5",children:"".concat(X.totalMoney.text).concat(K)}),Object(F.jsx)(x.a,{className:s.modifyButton,onClick:function(){G(!0)},variant:"contained",color:"secondary",children:X.totalMoney.button}),Object(F.jsx)(_.a,{open:T,onClose:$,className:s.dialog,children:Object(F.jsxs)(J.ValidatorForm,{className:"".concat(s.form," ").concat(s.dialogContent),onSubmit:ee,children:[Object(F.jsx)(H.a,{children:X.totalMoney.dialog.title}),Object(F.jsx)(J.TextValidator,{label:X.totalMoney.dialog.label,value:d,onChange:function(e){u(e.target.value)},validators:["isANumber"],errorMessages:["Must be a number!"]}),Object(F.jsx)(x.a,{variant:"contained",type:"submit",color:"primary",className:s.dialogButton,children:X.totalMoney.dialog.submitButton}),Object(F.jsx)(x.a,{onClick:$,variant:"contained",color:"secondary",className:s.dialogButton,children:X.totalMoney.dialog.cancelButton})]})})]}),Object(F.jsx)(p.a,{}),Object(F.jsxs)("div",{className:s.form,children:[Q?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(b.a,{className:s.formTitle,variant:"h5",children:"".concat("english"===o?re[a.currentDate.month-1]:a.currentDate.month).concat(X.goal.text.defined).concat(Q)}),Object(F.jsx)(x.a,{className:s.modifyButton,onClick:Z,variant:"contained",color:"secondary",children:X.goal.button})]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(b.a,{className:s.formTitle,variant:"h5",children:"".concat("english"===o?re[a.currentDate.month-1]:a.currentDate.month).concat(X.goal.text.notDefined)}),Object(F.jsx)(x.a,{className:s.modifyButton,onClick:Z,variant:"contained",color:"secondary",children:X.goal.dialog.title})]}),Object(F.jsx)(_.a,{open:z,onClose:$,className:s.dialog,children:Object(F.jsx)(ue,{handleGoalChange:te,currentGoal:h,Settings:X,handleCurrentGoalChange:function(e){g(e.target.value)},handleClose:$})})]}),Object(F.jsx)(p.a,{}),Object(F.jsxs)("div",{className:s.form,children:[Object(F.jsx)(b.a,{className:s.formTitle,variant:"h5",children:"".concat(X.names.text.part1)}),Object(F.jsx)(b.a,{className:s.formTitle,variant:"h5",children:"".concat(a.names?a.names[0].name:"").concat(X.names.text.part2).concat(a.names?a.names[1].name:"")}),Object(F.jsx)(x.a,{className:s.modifyButton,onClick:function(){V(!0)},variant:"contained",color:"secondary",children:X.names.button}),Object(F.jsx)(_.a,{open:P,onClose:$,className:s.dialog,children:Object(F.jsxs)(J.ValidatorForm,{className:"".concat(s.form," ").concat(s.dialogContent),onSubmit:ae,children:[Object(F.jsx)(H.a,{children:X.names.dialog.title}),Object(F.jsx)(J.TextValidator,{label:X.names.dialog.label1,value:y,onChange:function(e){v(e.target.value)}}),Object(F.jsx)(J.TextValidator,{label:X.names.dialog.label2,value:C,onChange:function(e){D(e.target.value)}}),Object(F.jsx)(x.a,{variant:"contained",color:"primary",type:"submit",className:s.dialogButton,children:X.names.dialog.submitButton}),Object(F.jsx)(x.a,{onClick:$,variant:"contained",color:"secondary",className:s.dialogButton,children:X.names.dialog.cancelButton})]})})]})]})]})})))),be=a(78),xe=a.n(be),pe=Object(d.a)((function(e){return{navbar:{position:"sticky",bottom:"0",marginBottom:"0",width:"100%",flexGrow:"1",backgroundColor:"brown"},toolbar:{display:"flex",justifyContent:"space-between"},toolbarLeft:{display:"flex",justifyContent:"space-between",alignItems:"center"},title:Object(B.a)({margin:"5px 2rem 5px 5px"},e.breakpoints.down("sm"),{display:"none"}),language:{fontSize:"1.5rem",width:"40px",height:"40px",textAlign:"center",backgroundColor:"rgba(0,0,0,0.3)",display:"flex",flexDirection:"column",justifyContent:"center",alignItem:"center",margin:"5px",borderRadius:"50%",transition:"0.2s",cursor:"pointer","&:hover":{backgroundColor:"rgba(0,0,0,0.6)",transition:"0.2s"}},toolbarRight:{"& button":{margin:"0"}},settingsMenu:{display:"flex",flexDirection:"column",alignItems:"center"},settingsMenuCloseButton:{margin:"0.5rem",alignSelf:"end"}}}));var he=ae((function(e){var t=e.data,a=e.setData,r=Object(n.useContext)(L),s=r.language,o=r.setLanguage,i=pe(),d=Object(l.f)(),h=Object(l.g)(),O=Object(n.useState)(!1),y=Object(c.a)(O,2),w=y[0],C=y[1],S=Object(n.useState)(!1),k=Object(c.a)(S,2),D=k[0],B=k[1],M=Object(n.useState)(null),T=Object(c.a)(M,2),I=T[0],E=T[1],G=Object(n.useState)(!1),R=Object(c.a)(G,2),P=R[0],z=R[1],J=A[s].Navbar,H=function(e){var t=e.target.id,n=e.currentTarget.name;"logout"===t?(E(!1),localStorage.removeItem("token"),localStorage.removeItem("data"),a({token:null,user:null,currentData:null,totalMoney:[],monthGoal:[],expenses:[]}),d.push("/"),window.location.reload(!0)):"welcome"===t?(E(!1),d.push("/")):n?d.push("/".concat(n)):(E(!1),d.push(t))},X=function(e){E(!1),z(e.currentTarget)},K=function(){C(!1),B(!1),E(!1),z(!1)};return Object(F.jsx)("div",{className:i.navbar,children:Object(F.jsx)(u.a,{theme:g,children:Object(F.jsxs)(m.a,{position:"static",color:"secondary",children:[Object(F.jsxs)(j.a,{className:i.toolbar,children:[Object(F.jsxs)("div",{className:i.toolbarLeft,children:[Object(F.jsx)(b.a,{className:i.title,variant:"h6",onClick:function(){return d.push("/")},children:J.title}),Object(F.jsxs)(x.a,{onClick:function(e){E(e.currentTarget)},color:"primary",variant:"outlined",children:[Object(F.jsx)(U.a,{}),t?window.innerWidth<460?"Menu":t.user:"Guest"]}),Object(F.jsxs)(Y.a,{open:Boolean(I),anchorEl:I,onClose:K,children:[!t&&Object(F.jsxs)(q.a,{onClick:function(){return C(!0)},children:[Object(F.jsx)(f.a,{}),J.loginButton]}),!t&&Object(F.jsxs)(q.a,{onClick:function(){return B(!0)},children:[Object(F.jsx)(v.a,{}),J.signinButton]}),t&&Object(F.jsxs)(q.a,{onClick:H,name:"logout",value:"logout",id:"logout",children:[window.innerWidth<460?"":Object(F.jsx)(N.a,{}),J.logoutButton]}),window.innerWidth<460&&t?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(q.a,{name:"welcome",onClick:H,id:"welcome",children:J.welcomeButton}),Object(F.jsx)(p.a,{}),Object(F.jsx)(q.a,{name:"today",onClick:H,id:"today",children:J.todayButton}),Object(F.jsx)(p.a,{}),Object(F.jsx)(q.a,{name:"expenses",onClick:H,id:"expenses",children:J.expensesButton}),Object(F.jsx)(p.a,{}),Object(F.jsx)(q.a,{name:"settings",onClick:X,id:"settings",children:Object(F.jsx)(xe.a,{})})]}):""]}),Object(F.jsx)("div",{className:i.language,variant:"contained",onClick:function(){return o("english")},children:"\ud83c\uddec\ud83c\udde7"}),Object(F.jsx)("div",{className:i.language,variant:"contained",onClick:function(){return o("japanese")},children:"\ud83c\uddef\ud83c\uddf5"})]}),window.innerWidth>=460?Object(F.jsxs)("div",{className:i.toolbarRight,children:[t&&Object(F.jsx)(x.a,{color:"/today"===h.pathname?"primary":"inherit",name:"today",id:"today",variant:"/today"===h.pathname?"contained":"text",onClick:H,children:J.todayButton}),t&&Object(F.jsx)(x.a,{color:"/expenses"===h.pathname?"primary":"inherit",name:"expenses",id:"expenses",variant:"/expenses"===h.pathname?"contained":"text",onClick:H,children:J.expensesButton}),t&&Object(F.jsx)(x.a,{color:P?"primary":"inherit",name:"settings",variant:P?"contained":"text",onClick:X,children:Object(F.jsx)(xe.a,{})})]}):""]}),Object(F.jsx)(_.a,{open:w,onClose:K,children:Object(F.jsx)(W,{setLoginOpen:C})}),Object(F.jsx)(_.a,{open:D,onClose:K,children:Object(F.jsx)(V,{})}),Object(F.jsx)(Y.a,{open:Boolean(P),anchorEl:P,onClose:K,keepMounted:!0,children:Object(F.jsxs)("div",{className:i.settingsMenu,children:[Object(F.jsx)(je,{}),Object(F.jsx)(x.a,{className:i.settingsMenuCloseButton,onClick:K,color:"primary",variant:"contained",children:J.settingsCloseButton})]})})]})})})})),ge=Object(d.a)((function(e){return{page:{minHeight:"91.45vh",width:"100%",fontFamily:"roboto",display:"flex",flexDirection:"column",alignItems:"center",margin:"0"}}}));var Oe=function(e){var t=e.children,a=ge();return Object(F.jsx)(u.a,{theme:g,children:Object(F.jsx)("div",{className:a.page,children:t})})},fe=a(220),ye=a(221),ve=a(109),we=a.n(ve),Ne=a(112),Ce=a.n(Ne),Se=Object(d.a)((function(e){var t,a,n,r,s,o,c;return{root:(t={display:"flex",width:"80%"},Object(B.a)(t,e.breakpoints.down("md"),{flexDirection:"column",alignItems:"center",width:"90%"}),Object(B.a)(t,e.breakpoints.down("xs"),{width:"100%",paddingLeft:"0"}),t),today:(a={width:"80%",display:"flex",flexDirection:"column",alignItems:"center",margin:"3rem 3rem 0 0"},Object(B.a)(a,e.breakpoints.down("md"),{width:"70%",flexDirection:"column",margin:"0"}),Object(B.a)(a,e.breakpoints.down("sm"),{width:"90%",flexDirection:"column",margin:"0"}),Object(B.a)(a,e.breakpoints.down("xs"),{width:"100%",flexDirection:"column",margin:"0"}),a),title:(n={textAlign:"center",marginBottom:"2rem"},Object(B.a)(n,e.breakpoints.down("md"),{marginTop:"2rem"}),Object(B.a)(n,e.breakpoints.down("xs"),{marginTop:"2rem",fontSize:"2.4rem"}),n),card:(r={width:"90%",margin:"0 1rem 2rem 0"},Object(B.a)(r,e.breakpoints.down("lg"),{width:"100%",margin:"0"}),Object(B.a)(r,e.breakpoints.down("xs"),{margin:"0"}),r),date:{margin:"10px 2rem 20px 0",textAlign:"end"},modifiableData:{display:"flex",alignItems:"center",justifyContent:"space-between"},data:(s={display:"flex",alignItems:"center",padding:"10px",marginBottom:"30px"},Object(B.a)(s,e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"start",marginLeft:"2rem"}),Object(B.a)(s,e.breakpoints.down("xs"),{marginLeft:"0",paddingLeft:"0"}),s),dataText:Object(B.a)({width:"50%"},e.breakpoints.down("xs"),{width:"100%",marginBottom:"1rem"}),dataRight:(o={width:"50%",display:"flex",flexDirection:"column",alignItems:"end"},Object(B.a)(o,e.breakpoints.down("sm"),{margin:"1rem 0 0 1rem",width:"100%",alignItems:"start"}),Object(B.a)(o,e.breakpoints.down("xs"),{marginLeft:"0"}),o),dataButton:Object(B.a)({display:"flex",flexDirection:"column",alignSelf:"center",justifySelf:"center"},e.breakpoints.down("xs"),{alignSelf:"start"}),dataGraph:{width:"300px",height:"440px",display:"flex",flexDirection:"column",alignItems:"end"},dataNumber:{fontWeight:"800"},dataTitle:{margin:"1rem 0 0 1rem"},lastExpenses:(c={marginTop:"3rem",width:"30%"},Object(B.a)(c,e.breakpoints.down("md"),{width:"70%"}),Object(B.a)(c,e.breakpoints.down("xs"),{margin:"5rem 0 0 0",width:"100%"}),c)}})),ke=a(110),De=a.n(ke),Be=a(174),Me=Object(Be.a)((function(e){var t;return{badge:{minHeight:"130px",backgroundColor:"#fffffd",borderRadius:"5px",padding:"10px",margin:"5px",boxShadow:"2px 2px 2px rgb(0,0,0,0.2)",boxSizing:"border-box",display:"flex"},leftColumn:Object(B.a)({width:"50%",display:"flex",flexDirection:"column",justifyContent:"start"},e.breakpoints.down("md"),{width:"60%"}),title:{fontSize:"1.2rem",fontWeight:"500",whiteSpace:"nowrap",textOverflow:"ellipsis",marginRight:"1rem"},data:{fontSize:"2rem",fontWeight:"300"},rightColumn:(t={width:"50%",display:"flex",flexDirection:"column",justifyContent:"space-between"},Object(B.a)(t,e.breakpoints.down("md"),{width:"40%"}),Object(B.a)(t,e.breakpoints.down("xs"),{fontSize:"0.8rem"}),t),button:{width:"50px",alignSelf:"end"},date:{textAlign:"end"}}}));var Te=function(e){var t=e.text,a=e.data,n=e.purchaser,r=e.date,s=e.deleteExpense,o=e.id,c=Me();return Object(F.jsxs)("div",{className:c.badge,children:[Object(F.jsxs)("div",{className:c.leftColumn,children:[Object(F.jsx)("div",{className:c.title,children:t&&t}),Object(F.jsx)("div",{className:c.data,children:a&&"\xa5".concat(Q(a))}),Object(F.jsx)("div",{className:c.purchaser,children:n})]}),Object(F.jsxs)("div",{className:c.rightColumn,children:[o&&Object(F.jsx)(x.a,{className:c.button,variant:"outlined",color:"secondary",onClick:function(){return s(o)},children:"X"}),Object(F.jsx)("div",{className:c.date,children:r})]})]})},Ie=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},title:{},expenses:{width:"100%"}}}));var Ee=function(e){var t=e.data,a=e.language,n=A[a].LastExpenses,r=Ie(),s=t.expenses.sort((function(e,t){return e.date.year-t.date.year})).sort((function(e,t){return e.date.month-t.date.month})).sort((function(e,t){return e.date.day-t.date.day})).map((function(e){return Object(F.jsx)(Te,{text:e.productName,data:e.amount,purchaser:e.purchaser.name,date:se(e.date.day,e.date.month,e.date.year,a)},e._id)})).slice(0,8);return Object(F.jsxs)("div",{className:r.root,children:[Object(F.jsx)(b.a,{variant:"h4",className:r.title,children:n.title}),Object(F.jsx)("div",{className:r.expenses,children:s})]})},Fe=Object(d.a)((function(e){return{root:Object(B.a)({display:"flex",width:"300px",height:"100px",boxShadow:"2px 2px 5px rgba(0,0,0,0.3)"},e.breakpoints.down("xs"),{width:"250px"}),data1:{width:function(e){return 3*e.data1percent},backgroundColor:"#bdcebe",color:"#4f3222",height:"100%",display:"flex",justifyContent:"start",alignItems:"end","& span":{margin:"0 3px 3px 3px",textTransform:"uppercase",letterSpacing:"2px"}},data2:{width:function(e){return 3*e.data2percent},height:"100px",backgroundColor:"#feb236",color:"#454140",display:"flex",justifyContent:"end",alignItems:"end","& span":{margin:"0 3px 3px 3px",textTransform:"uppercase",letterSpacing:"2px"}}}})),Le=function(e){var t=e.total,a=e.data1,n=e.data2,r=(e.language,a.amount&&t.amount?parseInt(a.amount.replace(",",""))/parseInt(t.amount.replace(",",""))*100:""),s=n.amount&&t.amount?parseInt(n.amount.replace(",",""))/parseInt(t.amount.replace(",",""))*100:"",o=Fe({data1percent:r,data2percent:s});return Object(F.jsxs)("div",{className:o.root,children:[Object(F.jsxs)("div",{className:o.data1,children:[Object(F.jsx)("span",{className:o.name,children:a.name}),Object(F.jsx)("span",{})]}),Object(F.jsx)("div",{className:o.data2,children:Object(F.jsx)("span",{children:n.name})})]})},Ge=a(108),Ae=a.n(Ge),Re=a(218),We=a(219),Pe=a(211),Ve=a(227),_e=a(223),Ye=Object(d.a)((function(e){return{root:{},fab:{position:"fixed",bottom:"20px",right:"30px"},newExpenseForm:{display:"flex",flexDirection:"column",alignItems:"center",padding:"5rem 0"},form:{display:"flex",flexDirection:"column"},button:{margin:"2rem"}}}));var qe=ne(ae((function(e){var t=e.buttonOnly,a=e.data,r=(e.setData,e.fetchData,e.setIsFetching,e.setTodayReload,Ye()),s=Object(n.useContext)(L).language,o=Object(n.useState)(""),i=Object(c.a)(o,2),l=i[0],d=i[1],u=Object(n.useState)(""),m=Object(c.a)(u,2),j=m[0],b=m[1],p=Object(n.useState)(""),h=Object(c.a)(p,2),g=h[0],O=h[1],f=Object(n.useState)(!1),y=Object(c.a)(f,2),v=y[0],w=y[1],N=A[s].NewExpense,C=function(){var e=Object(k.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(""),b(""),O(""),w(!1),n={date:{year:a.currentDate.year,month:a.currentDate.month,day:a.currentDate.day},productName:l,amount:parseInt(j),user:a.user,purchaser:g},I.a.post(E+"expenses",n).then((function(){return window.location.reload(!0)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:r.root,children:[!0===t?Object(F.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){return w(!0)},children:N.title}):Object(F.jsx)(Re.a,{className:r.fab,onClick:function(){return w(!0)},color:"primary","aria-label":"add",children:Object(F.jsx)(Ae.a,{})}),Object(F.jsx)(_.a,{open:v,onClose:function(){d(""),b(""),O(""),w(!1)},fullWidth:!0,children:Object(F.jsxs)(We.a,{className:r.newExpenseForm,children:[Object(F.jsx)(H.a,{variant:"h5",children:N.title}),Object(F.jsxs)(J.ValidatorForm,{className:r.form,onSubmit:C,children:[Object(F.jsx)(J.TextValidator,{label:N.name,value:l,onChange:function(e){d(e.target.value)},validators:["required"],errorMessages:["Required!"]}),Object(F.jsxs)(Pe.a,{children:[Object(F.jsx)(Ve.a,{id:"purchaser",children:N.whoPurchasedIt}),Object(F.jsxs)(_e.a,{labelId:"purchaser",id:"purchaser",value:g,onChange:function(e){O(e.target.value)},children:[Object(F.jsx)(q.a,{value:a.names?a.names[0].name:"",children:a.names?a.names[0].name:""}),Object(F.jsx)(q.a,{value:a.names?a.names[1].name:"",children:a.names?a.names[1].name:""})]})]}),Object(F.jsx)(J.TextValidator,{label:N.amount,value:j,onChange:function(e){b(e.target.value)},validators:["required"],errorMessages:["Required!"]}),Object(F.jsx)(x.a,{className:r.button,variant:"contained",type:"submit",color:"primary",children:N.button})]})]})})]})}))),ze=a(111),Ue=a.n(ze),Je=Se;var He=ae(Z((function(e){var t=e.stats,a=(e.fetchData,e.data),r=e.setData,s=Object(n.useContext)(L).language,o=Je(),i=Object(l.f)(),d=Object(n.useState)(!1),u=Object(c.a)(d,2),m=u[0],j=u[1],h=Object(n.useState)(!1),g=Object(c.a)(h,2),O=g[0],f=g[1],y=Object(n.useState)(""),v=Object(c.a)(y,2),w=v[0],N=v[1],C=Object(n.useState)(!1),D=Object(c.a)(C,2),B=D[0],M=D[1],T=A[s],G=T.Today,R=T.Settings,W=G.totalMoney,P=G.expenses,V=G.balance,Y=G.goal,q=t.thisUserTotalMoney,z=t.endOfMonth,U=t.thisUserMonthGoal,J=t.limit,H=t.totalExpensesAmount,X=t.expensesFromName1,K=t.expensesFromName2;Object(n.useEffect)((function(){null===a.token&&i.push("/")}));var Q=function(){j(!1),M(!1)},Z=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post(E+"goal",{goal:w,date:{year:a.currentDate.year,month:a.currentDate.month},user:a.user});case 2:r({totalMoney:a.totalMoney,monthGoal:{goal:w,date:{year:a.currentDate.year,month:a.currentDate.month},user:a.user},expenses:a.expenses,user:a.user,names:a.names,token:a.token,currentDate:a.currentDate}),window.location.reload(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:o.root,children:[Object(F.jsxs)("div",{className:o.today,children:[Object(F.jsx)(b.a,{variant:"h3",className:o.title,children:G.title}),Object(F.jsx)(fe.a,{className:o.card,children:Object(F.jsxs)(ye.a,{className:o.datas,children:[Object(F.jsx)(b.a,{variant:"h5",className:o.date,children:se(a.currentDate.day,a.currentDate.month,a.currentDate.year,s)}),Object(F.jsx)(p.a,{}),Object(F.jsxs)(b.a,{className:o.dataTitle,variant:"h5",children:[Object(F.jsx)(we.a,{})," ",W.title]}),Object(F.jsx)("div",{className:o.data,children:Object(F.jsx)("div",{className:o.dataText,children:Object(F.jsxs)(b.a,{children:[W.text.part1,Object(F.jsxs)("span",{className:o.dataNumber,children:["\xa5",q]}),W.text.part2]})})}),Object(F.jsx)(p.a,{}),Object(F.jsxs)(b.a,{className:o.dataTitle,variant:"h5",children:[Object(F.jsx)(De.a,{})," ",P.title]}),Object(F.jsx)("div",{className:o.data,children:a.expenses[0]?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:o.dataText,children:Object(F.jsxs)(b.a,{children:[null!==X?Object(F.jsxs)(F.Fragment,{children:[a.names[0].name,P.text.line1_2.part1,Object(F.jsxs)("span",{className:o.dataNumber,children:["\xa5",X]}),P.text.line1_2.part2,Object(F.jsx)("br",{})]}):Object(F.jsxs)(F.Fragment,{children:[a.names[0].name,P.text.line1_2.part3,Object(F.jsx)("br",{})]}),null!==K?Object(F.jsxs)(F.Fragment,{children:[a.names[1].name,P.text.line1_2.part1,Object(F.jsxs)("span",{className:o.dataNumber,children:["\xa5",K]}),P.text.line1_2.part2,Object(F.jsx)("br",{})]}):Object(F.jsxs)(F.Fragment,{children:[a.names[1].name,P.text.line1_2.part3,Object(F.jsx)("br",{})]}),P.text.line3.part1,Object(F.jsxs)("span",{className:o.dataNumber,children:["\xa5",H]})]})}),Object(F.jsx)("div",{className:o.dataRight,children:X&&K?Object(F.jsx)(Le,{total:{name:"Expenses",amount:H},data1:{name:a.names[0].name,amount:X},data2:{name:a.names[1].name,amount:K},language:s}):""})]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:o.dataText,children:Object(F.jsx)(b.a,{children:P.text.noExpense})}),Object(F.jsx)("div",{className:o.dataRight,children:Object(F.jsx)(qe,{buttonOnly:!0,setTodayReload:f,todayReload:O})})]})}),a.expenses[0]?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(p.a,{}),Object(F.jsxs)(b.a,{className:o.dataTitle,variant:"h5",children:[Object(F.jsx)(Ue.a,{})," ",V.title]}),Object(F.jsx)("div",{className:o.data,children:a.expenses[0]?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:o.dataText,children:Object(F.jsxs)(b.a,{children:[a.names[0].name," : ",a.names[0].balance,Object(F.jsx)("br",{}),a.names[1].name," : ",a.names[1].balance]})}),Object(F.jsxs)("div",{className:o.dataRight,children:[Object(F.jsx)(x.a,{variant:"contained",color:"primary",style:{width:"200px"},onClick:function(){return j(!0)},children:V.modifyBalanceButton}),Object(F.jsxs)(_.a,{open:m,onClose:Q,fullScreen:window.innerWidth<400&&!0,children:[Object(F.jsx)(le,{data:a}),Object(F.jsx)(x.a,{onClick:Q,children:V.closeButton})]})]})]}):Object(F.jsx)(qe,{buttonOnly:!0,setTodayReload:f,todayReload:O})})]}):"",Object(F.jsx)(p.a,{}),Object(F.jsxs)(b.a,{className:o.dataTitle,variant:"h5",children:[Object(F.jsx)(Ce.a,{})," ",Y.title]}),Object(F.jsxs)("div",{className:o.data,children:[Object(F.jsx)("div",{className:o.dataText,children:U?Object(F.jsxs)(b.a,{children:["".concat("english"===s?re[a.currentDate.month-1]:a.currentDate.month).concat(Y.text.line1.part1),Object(F.jsxs)("span",{className:o.dataNumber,children:["\xa5",U]}),Y.text.line1.part2,Object(F.jsx)("br",{}),Y.text.line2.part1,Object(F.jsxs)("span",{className:o.dataNumber,style:{color:z>0?"green":"red"},children:["\xa5",J]}),Y.text.line2.part2]}):Object(F.jsx)(b.a,{children:"".concat("english"===s?re[a.currentDate.month-1]:a.currentDate.month).concat(Y.text.line1.part3)})}),U?"":Object(F.jsxs)("div",{className:o.dataRight,children:[Object(F.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){return M(!0)},children:Y.defineGoalButton}),Object(F.jsx)(_.a,{open:B,onClose:Q,children:Object(F.jsx)(ue,{handleGoalChange:Z,currentGoal:w,Settings:R,handleCurrentGoalChange:function(e){N(e.target.value)},handleClose:Q})})]})]})]})})]}),a.expenses[0]?Object(F.jsx)("div",{className:o.lastExpenses,children:Object(F.jsx)(Ee,{data:a,language:s})}):""]})}))),Xe=a(115);var Ke=function(e){var t=e.selectedDate,a=e.setSelectedDate,n=e.data;return Object(F.jsx)(Xe.a,{onChange:function(e){return a(e)},value:t,minDetail:"decade",showNeighboringMonth:!1,tileContent:function(e){e.activeStartDate;var t=e.date,a=e.view,r=n.expenses.filter((function(e){return e.date.day===t.getDate()&&e.date.month===t.getMonth()+1&&e.date.year===t.getFullYear()})),s=n.expenses.filter((function(e){return e.date.month===t.getMonth()+1&&e.date.year===t.getFullYear()})),o=n.expenses.filter((function(e){return e.date.year===t.getFullYear()}));return"month"===a?r.length>0?Object(F.jsx)("p",{style:{color:"red"},children:r.length}):Object(F.jsx)("p",{style:{opacity:"0.3"},children:"0"}):"year"===a?s.length>0?Object(F.jsx)("p",{style:{color:"red"},children:s.length}):Object(F.jsx)("p",{style:{opacity:"0.3"},children:"0"}):"decade"===a?o.length>0?Object(F.jsx)("p",{style:{color:"red"},children:o.length}):Object(F.jsx)("p",{style:{opacity:"0.3"},children:"0"}):void 0}})},Qe=(a(170),Object(d.a)((function(e){var t;return{expensePage:Object(B.a)({width:"70%",display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.down("md"),{width:"100%"}),calendarAndExpenses:Object(B.a)({display:"flex",width:"100%",justifyContent:"space-around"},e.breakpoints.down("md"),{flexDirection:"column",alignItems:"center"}),title:Object(B.a)({margin:"3rem"},e.breakpoints.down("md"),{margin:"2rem"}),expenses:(t={padding:"1px 20px 5px 20px",width:"50%",display:"flex",flexDirection:"column",overflow:"scroll",height:"60vh",borderTop:"2px solid rgba(50,50,50,0.3)",borderBottom:"2px solid rgba(50,50,50,0.3)"},Object(B.a)(t,e.breakpoints.down("md"),{width:"100%",margin:"1rem 0 0 0",flexDirection:"row",height:"150px",padding:"8px 0 8px 0"}),Object(B.a)(t,e.breakpoints.down("xs"),{marginBottom:"6rem"}),t),expenseAmount:{padding:"0px",margin:"0"},expenseCategory:{margin:"0",padding:"0"},calendar:Object(B.a)({display:"flex",justifyContent:"center",height:"auto"},e.breakpoints.down("xs"),{width:"100%"})}})));var Ze=ne(ae((function(e){var t=e.data,a=Object(n.useContext)(L).language,r=Qe(),s=Object(l.f)(),o=A[a].Expenses,i=Object(n.useState)(new Date),d=Object(c.a)(i,2),u=d[0],m=d[1],j=Object(n.useState)(t.expenses.filter((function(e){return e.date.day===u.getDate()&&e.date.month===u.getMonth()+1&&e.date.year===u.getFullYear()}))),x=Object(c.a)(j,2),p=x[0],h=x[1];Object(n.useEffect)((function(){h(t.expenses.filter((function(e){return e.date.day===u.getDate()&&e.date.month===u.getMonth()+1&&e.date.year===u.getFullYear()})))}),[u]),Object(n.useEffect)((function(){null===t.token&&s.push("/")}));var g=function(){var e=Object(k.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.delete(E+"expenses",{data:{id:t}});case 2:a=e.sent,console.log(a),h(p.filter((function(e){return e._id!==t})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:r.expensePage,children:[Object(F.jsx)(b.a,{className:r.title,variant:"h3",children:o.title}),Object(F.jsxs)("div",{className:r.calendarAndExpenses,children:[Object(F.jsx)("div",{className:r.calendar,children:Object(F.jsx)(Ke,{selectedDate:u,setSelectedDate:m,data:t})}),Object(F.jsx)("div",{className:r.expenses,children:p.length>0?p.map((function(e){return Object(F.jsx)(Te,{id:e._id,text:e.productName,data:e.amount,purchaser:e.purchaser.name,date:se(e.date.day,e.date.month,e.date.year,a),deleteExpense:g},e._id)})):Object(F.jsx)(Te,{text:o.noExpense})})]})]})}))),$e=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",width:"90%"},title:{margin:"2rem 2rem 0.5rem 2rem"},subtitle:{marginBottom:"3rem"},signinSuccess:{color:"green",textAlign:"center",margin:"2rem"},buttons:{},button:{margin:"10px"},body:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},tiles:Object(B.a)({display:"flex"},e.breakpoints.down("xs"),{flexDirection:"column",width:"100%",alignItems:"center",marginBottom:"3rem"}),tile:Object(B.a)({width:"250px",height:"35vh",margin:"1rem",borderRadius:"20px 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",transition:"all 0.4s",cursor:"pointer","& span":{position:"relative",fontSize:"2rem",letterSpacing:"2px",textTransform:"uppercase",top:"40px",fontWeight:"100"},"&:hover":{transform:"translateY(-5px)",boxShadow:"rgba(50, 50, 93, 0.25) 0px 6px 12px -2px, rgba(0, 0, 0, 0.3) 0px 3px 7px -3px",bottom:"5px",transition:"all 0.4s","& svg":{opacity:1,transition:"all 0.7s"}},"&:active":{transform:"translateY(-1px)"}},e.breakpoints.down("xs"),{width:"80%",paddingBottom:"1.5rem"}),today:{backgroundColor:"rgba(100,100,150, 0.3)"},expenses:{backgroundColor:"rgba(200,150,200, 0.3)"},icon:{fontSize:100,opacity:"0.5",transition:"all 0.5s"},addExpenseLabel:Object(B.a)({fontSize:"1.5rem",position:"fixed",bottom:"65px",right:"30px",fontWeight:"100",backgroundColor:"rgba(50,50,200,0.3)",borderRadius:"10%",padding:"1rem"},e.breakpoints.down("xs"),{display:"none"})}})),et=a(113),tt=a.n(et),at=a(114),nt=a.n(at),rt=$e;var st=ae((function(e){var t=e.data,a=e.fetchData,r=e.setIsFetching,s=Object(n.useState)(!1),o=Object(c.a)(s,2),i=o[0],d=o[1],u=Object(n.useState)(!1),m=Object(c.a)(u,2),j=m[0],p=m[1],h=Object(n.useState)(!1),g=Object(c.a)(h,2),O=g[0],f=g[1],y=rt(),v=Object(n.useContext)(L).language,w=Object(l.f)(),N=A[v].Welcome;Object(n.useEffect)((function(){a(),r(!1)}),[]);var C=function(){d(!1),p(!1)},S=Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:y.buttons,children:[Object(F.jsx)(x.a,{className:y.button,color:"primary",variant:"contained",onClick:function(){return d(!0)},children:N.createAccountButton}),Object(F.jsx)(x.a,{className:y.button,color:"primary",variant:"contained",onClick:function(){return p(!0)},children:N.loginButton})]}),Object(F.jsxs)("div",{style:{marginTop:"2rem"},children:[N.example.line1,Object(F.jsx)("br",{}),Object(F.jsx)("b",{children:N.example.line2})]}),Object(F.jsx)(_.a,{open:j,onClose:C,children:Object(F.jsx)(W,{})}),Object(F.jsx)(_.a,{open:i,onClose:C,children:Object(F.jsx)(V,{setSigninSuccess:f,setSigninOpen:d})})]});return Object(F.jsxs)("div",{className:y.root,children:[Object(F.jsxs)(b.a,{className:y.title,variant:"h3",color:"secondary",children:[Object(F.jsx)("b",{children:"money"}),"saver"]}),Object(F.jsx)(b.a,{className:y.subtitle,variant:"h5",color:"secondary",children:N.subtitle}),O?Object(F.jsx)(b.a,{className:y.signinSuccess,variant:"h4",children:N.signinSuccessMessage}):"",!t&&S,t&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:y.body,children:[Object(F.jsx)(b.a,{className:y.subtitle,variant:"h5",color:"secondary",children:"".concat(N.welcomeMessage.part1).concat(t.names[0].name).concat(N.welcomeMessage.part2).concat(t.names[1].name).concat(N.welcomeMessage.part3)}),Object(F.jsxs)("div",{className:y.tiles,children:[Object(F.jsxs)("div",{onClick:function(){return w.push("/today")},className:"".concat(y.tile," ").concat(y.today),children:[Object(F.jsx)(tt.a,{className:y.icon}),Object(F.jsx)("span",{children:N.todayTile})]}),Object(F.jsxs)("div",{onClick:function(){return w.push("/expenses")},className:"".concat(y.tile," ").concat(y.expenses),children:[Object(F.jsx)(nt.a,{className:y.icon}),Object(F.jsx)("span",{children:N.expensesTile})]})]})]}),Object(F.jsx)("div",{className:y.addExpenseLabel,children:N.addExpenseLabel})]})]})})),ot=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"}}}));var ct=function(e){var t=e.user,a=e.setUser,r=e.setToken,s=ot(),o=Object(n.useState)("welcome"),d=Object(c.a)(o,2),u=d[0],m=d[1];return Object(F.jsx)("div",{className:s.app,children:Object(F.jsx)(G,{children:Object(F.jsxs)(i.a,{children:[Object(F.jsx)(he,{user:t,setUser:a,setToken:r,setPage:m,page:u,welcome:!0}),Object(F.jsx)(l.c,{children:Object(F.jsxs)(Oe,{children:[Object(F.jsx)(l.a,{exact:!0,path:"/",component:st}),Object(F.jsx)(l.a,{exact:!0,path:"/today",component:He}),Object(F.jsx)(l.a,{exact:!0,path:"/expenses",component:Ze})]})}),Object(F.jsx)(qe,{})]})})})},it=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,230)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),s(e),o(e)}))};o.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(ct,{})}),document.getElementById("root")),it()}},[[171,1,2]]]);
//# sourceMappingURL=main.80060385.chunk.js.map